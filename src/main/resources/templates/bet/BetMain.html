<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Betting Main</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        .container {
            display: flex; /* flex = 2열 레이아웃 */
            margin: 0 auto;
            align-content: center;
            align-items: center;

        }

        .cart {
            height: 500px;
            width: 250px;
            background-color: #333;
            color: #fff;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .cart-button {
            display: flex;
            justify-content: center;
        }

        .content {
            flex: 1; /* container 의 남은 공간 채우기 */
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse; /* Collapse borders for a cleaner look */
        }

        th, td {
            border: 1px solid #ccc; /* Add a border to table cells */
            padding: 8px; /* Add padding inside table cells */
            text-align: center;
        }

    </style>
    <script>
        function moveToCart(matchNo, odds, teamName, teamName2, matchType) {
            console.log(matchNo);
            console.log(odds);
            console.log(teamName);

            document.getElementById("matchNoCart").value = matchNo;
            document.getElementById("oddsCart").value = odds;
            document.getElementById("teamNameCart").value = teamName;
            document.getElementById("teamName2Cart").value = teamName2;
            document.getElementById("matchTypeCart").value = matchType;

            let cart = document.querySelector('.cart');  // Get the cart element by its class name
            let contentElement = document.createElement('p'); // Create a new <p> element to display the odds
            contentElement.textContent = matchNo + " " + teamName + ' Wins: ' + odds; // Set the content of the <p> element based on the odds and type

            cart.appendChild(contentElement); // Append the <p> element to the cart
        }
    </script>
</head>
<body>
<h1>MATCH SCHEDULE</h1>
<div class="container">
    <div class="content">
        <table>
            <thead>
            <tr>
                <th>#</th>
                <th>경기일시</th>
                <th>경기종료시</th>
                <th>Sport</th>
                <th>HOME</th>
                <th>AWAY</th>
                <th>Home Odds</th>
                <th>Away Odds</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="match: ${matches}">
                <td th:text="${match.matchNo}"></td>
                <td th:text="${#temporals.format(match.matchStart, 'yyyy-MM-dd HH:mm')}"></td>
                <td th:text="${#temporals.format(match.matchEnd, 'yyyy-MM-dd HH:mm')}"></td>
                <td th:text="${match.matchType}"></td>
                <td th:text="${match.homeTeam}"></td>
                <td th:text="${match.awayTeam}"></td>
                <td><a th:id="'homeOdds_' + ${match.matchNo}"
                       th:text="${match.homeOdds}"
                       th:attr="onclick='moveToCart(\'' + ${match.matchNo} +
                       '\', \'' + ${match.homeOdds} +
                       '\', \'' + ${match.homeTeam} +
                       '\', \'' + ${match.awayTeam} +
                       '\', \'' + ${match.matchType} +
                       '\')'"></a>
                </td>
                <td><a th:id="'awayOdds_' + ${match.matchNo}"
                       th:text="${match.awayOdds}"
                       th:attr="onclick='moveToCart(\'' + ${match.matchNo} +
                       '\', \'' + ${match.awayOdds} +
                       '\', \'' + ${match.awayTeam} +
                       '\', \'' + ${match.homeTeam} +
                       '\', \'' + ${match.matchType} +
                       '\')'"></a>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="cart">
        <div class="cart-button">
            <form action="/bet/betCart" method="POST">
                <input type="hidden" name="matchNo" id="matchNoCart">
                <input type="hidden" name="odds" id="oddsCart">
                <input type="hidden" name="teamName" id="teamNameCart">
                <input type="hidden" name="matchType" id="matchTypeCart">
                <input type="hidden" name="teamName2" id="teamName2Cart">
                <button type="submit">결제</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>